#include <iostream>
using namespace std;

struct Account {
    int number;//номер счета
    double balance;//текущий баланс
};

// Пополнение счета через указатель
void deposit(Account* acc, double amount) {
    acc->balance += amount;// увелич баланс на сумму пополнения
    cout << "Пополнение: +$" << amount << endl;
    cout << "Новый баланс: $" << acc->balance << endl;
}

// Снятие через ссылку
void withdraw(Account& acc, double amount) {
    if (amount <= acc.balance) {
        acc.balance -= amount;// уменьш баланс на сумму снятия
        cout << "Снятие: -$" << amount << endl;
        cout << "Новый баланс: $" << acc.balance << endl;
    } else {
        cout << "Ошибка: недостаточно средств!" << endl;
        cout << "Запрошено: $" << amount << ", доступно: $" << acc.balance << endl;
    }
}

int main() {// создаю и инициализирую банковский счет
    Account myAccount = {123456, 1000.0};
    
    cout << "Начальное состояние счета:" << endl;
    cout << "Номер: " << myAccount.number << endl;// доступ к полю number
    cout << "Баланс: $" << myAccount.balance << endl;// доступ к полю balance
    
    // Работа через указатель
    deposit(&myAccount, 500.0);
    
    // Работа через ссылку
    withdraw(myAccount, 200.0);
    
    // Попытка снять слишком много
    withdraw(myAccount, 2000.0);
    
    return 0;
}
